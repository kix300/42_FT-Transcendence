<!-- 2FA QR Code Modal -->
<div
    id="qr-modal"
    class="fixed inset-0 bg-black/90 flex items-center justify-center z-50 hidden"
>
    <div class="bg-gray-900 border-2 border-green-400 max-w-md w-full mx-4">
        <!-- Modal Header -->
        <div
            class="bg-gray-800 border-b border-green-400/30 px-4 py-3 flex items-center justify-between"
        >
            <div class="flex items-center space-x-2">
                <div
                    class="w-3 h-3 bg-green-500 rounded-full animate-pulse"
                ></div>
                <span class="text-green-400 font-bold"
                    >2FA Setup - Authenticator</span
                >
            </div>
        </div>

        <!-- Modal Content -->
        <div class="p-6">
            <div class="text-green-300 mb-4 text-sm">
                <div class="mb-2">
                    [STEP 1] Scan this QR code with Google Authenticator
                </div>
                <div class="mb-4">
                    [STEP 2] Enter the 6-digit code to confirm
                </div>
            </div>

            <!-- QR Code Image -->
            <div class="bg-white p-4 mb-4 flex justify-center">
                <img id="qr-code-img" src="" alt="QR Code" class="max-w-full" />
            </div>

            <!-- Secret Key (manual entry) -->
            <div class="bg-black border border-green-400/30 p-3 mb-4">
                <div class="text-green-400 text-xs mb-1">
                    // Manual entry key:
                </div>
                <div
                    id="2fa-secret"
                    class="text-green-300 text-sm font-mono break-all"
                ></div>
            </div>

            <!-- Verification Code Input -->
            <div class="mb-4">
                <div class="text-green-400 text-sm mb-2">
                    Enter verification code:
                </div>
                <input
                    type="text"
                    id="2fa-verify-code"
                    class="w-full bg-black border border-green-400/30 text-green-400 px-3 py-2 font-mono text-center text-lg tracking-widest"
                    placeholder="000000"
                    maxlength="6"
                    pattern="[0-9]{6}"
                />
            </div>

            <!-- Buttons -->
            <div class="space-y-2">
                <button
                    id="verify-2fa-btn"
                    class="w-full bg-black border border-green-400/50 text-green-400 py-2 px-4 hover:bg-green-400/10 transition-colors"
                >
                    ./verify_code.sh --confirm
                </button>
                <button
                    id="skip-2fa-btn"
                    class="w-full bg-black border border-yellow-400/30 text-yellow-400 py-2 px-4 hover:bg-yellow-400/10 transition-colors text-sm"
                >
                    ./skip_2fa.sh --continue-without
                </button>
            </div>

            <div id="qr-modal-message" class="mt-4 text-sm"></div>
        </div>
    </div>
</div>
