
<div class="min-h-screen flex flex-col bg-black text-green-400 font-mono">
  {{header}}

  <!-- Main content -->
  <main class="flex-1 p-6">
    <div class="max-w-6xl mx-auto">
      <!-- Page title -->
      <div class="mb-6">
        <h1 class="text-2xl text-green-300 mb-2">[USER MANAGEMENT SYSTEM]</h1>
        <p class="text-green-500">Administration des utilisateurs du système Transcendence</p>
      </div>

      <!-- Loading state -->
      <div id="loading-state" class="text-center py-8">
        <div class="text-green-400">
          <div class="animate-pulse">Chargement des données utilisateurs...</div>
          <div class="mt-2 text-green-500 text-sm">$ SELECT * FROM users_public;</div>
        </div>
      </div>

      <!-- Error state -->
      <div id="error-state" class="hidden bg-red-900/20 border border-red-500/30 p-4 mb-6">
        <div class="text-red-400 font-bold">[ERROR]</div>
        <div id="error-message" class="text-red-300 text-sm mt-1"></div>
      </div>

      <!-- Controls -->
      <div id="controls-section" class="hidden mb-6">
        <div class="flex flex-wrap gap-4 items-center justify-between">
          <div class="flex gap-4">
            <button id="add-user-btn" class="bg-green-900/30 border border-green-400/50 px-4 py-2 hover:bg-green-400/10 transition-colors">
              <span class="text-green-300">+ Nouveau utilisateur</span>
            </button>
            <button id="refresh-btn" class="bg-gray-900 border border-green-400/30 px-4 py-2 hover:bg-green-400/10 transition-colors">
              <span class="text-green-400">Actualiser</span>
            </button>
          </div>
          
          <div class="flex gap-4 items-center">
            <span class="text-green-500 text-sm">Filtrer:</span>
            <select id="status-filter" class="bg-gray-900 border border-green-400/30 px-3 py-1 text-green-400">
              <option value="">Tous les statuts</option>
              <option value="online">En ligne</option>
              <option value="offline">Hors ligne</option>
              <option value="in_game">En jeu</option>
            </select>
            <input 
              type="text" 
              id="search-input" 
              placeholder="Rechercher par nom..."
              class="bg-gray-900 border border-green-400/30 px-3 py-1 text-green-400 placeholder-green-500/50"
            />
          </div>
        </div>
      </div>

      <!-- Users table -->
      <div id="users-section" class="hidden">
        <div class="bg-gray-900 border border-green-400/30 overflow-hidden">
          <!-- Table header -->
          <div class="bg-green-400/10 border-b border-green-400/30 p-4">
            <div class="grid grid-cols-6 gap-4 text-green-300 font-bold text-sm">
              <div>ID</div>
              <div>UTILISATEUR</div>
              <div>EMAIL</div>
              <div>STATUT</div>
              <div>DERNIÈRE CONNEXION</div>
              <div class="text-center">ACTIONS</div>
            </div>
          </div>
          
          <!-- Table body -->
          <div id="users-list" class="divide-y divide-green-400/10">
            <!-- Users will be populated here -->
          </div>
        </div>
        
        <!-- Stats -->
        <div id="users-stats" class="mt-4 grid grid-cols-4 gap-4">
          <div class="bg-gray-900 border border-green-400/30 p-3 text-center">
            <div class="text-green-300 font-bold" id="total-users">0</div>
            <div class="text-green-500 text-sm">Total utilisateurs</div>
          </div>
          <div class="bg-gray-900 border border-green-400/30 p-3 text-center">
            <div class="text-green-300 font-bold" id="online-users">0</div>
            <div class="text-green-500 text-sm">En ligne</div>
          </div>
          <div class="bg-gray-900 border border-green-400/30 p-3 text-center">
            <div class="text-green-300 font-bold" id="offline-users">0</div>
            <div class="text-green-500 text-sm">Hors ligne</div>
          </div>
          <div class="bg-gray-900 border border-green-400/30 p-3 text-center">
            <div class="text-green-300 font-bold" id="ingame-users">0</div>
            <div class="text-green-500 text-sm">En jeu</div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- User Modal -->
  <div id="user-modal" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center z-50">
    <div class="bg-gray-900 border border-green-400/30 p-6 w-full max-w-md mx-4">
      <div class="flex justify-between items-center mb-4">
        <h3 id="modal-title" class="text-green-300 font-bold"></h3>
        <button id="close-modal" class="text-green-500 hover:text-green-300">✕</button>
      </div>
      
      <form id="user-form" class="space-y-4">
        <div>
          <label class="block text-green-500 text-sm mb-1">Nom d'utilisateur</label>
          <input 
            type="text" 
            id="form-username" 
            required 
            class="w-full bg-black border border-green-400/30 px-3 py-2 text-green-400 focus:border-green-400 focus:outline-none"
          />
        </div>
        
        <div>
          <label class="block text-green-500 text-sm mb-1">Email</label>
          <input 
            type="email" 
            id="form-email" 
            required 
            class="w-full bg-black border border-green-400/30 px-3 py-2 text-green-400 focus:border-green-400 focus:outline-none"
          />
        </div>
        
        <div id="password-field">
          <label class="block text-green-500 text-sm mb-1">Mot de passe</label>
          <input 
            type="password" 
            id="form-password" 
            class="w-full bg-black border border-green-400/30 px-3 py-2 text-green-400 focus:border-green-400 focus:outline-none"
          />
          <div class="text-green-500/70 text-xs mt-1" id="password-hint">Laisser vide pour ne pas changer</div>
        </div>
        
        <div>
          <label class="block text-green-500 text-sm mb-1">Rôle</label>
          <select 
            id="form-role" 
            class="w-full bg-black border border-green-400/30 px-3 py-2 text-green-400 focus:border-green-400 focus:outline-none"
          >
            <option value="user">Utilisateur</option>
            <option value="admin">Administrateur</option>
          </select>
        </div>
        
        <div class="flex gap-3 pt-4">
          <button 
            type="submit" 
            class="flex-1 bg-green-900/30 border border-green-400/50 py-2 text-green-300 hover:bg-green-400/10 transition-colors"
          >
            <span id="submit-text">Enregistrer</span>
          </button>
          <button 
            type="button" 
            id="cancel-modal" 
            class="flex-1 bg-gray-800 border border-gray-600 py-2 text-gray-300 hover:bg-gray-700 transition-colors"
          >
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer class="border-t border-green-400/30 p-4">
    <div class="max-w-6xl mx-auto text-center text-green-500 text-sm">
      <span class="text-green-400">[Users Management]</span> Transcendence Admin Panel v1.0.0
    </div>
  </footer>
</div>
